<div ng-controller="login-register-controller" ng-init="restrict()"></div>
<div ng-controller="result-controller" ng-init = "init_all_matches()">
  <!-- Tournament Bracketing-->
  <div class="row contents">
    <div class="col s12 m12 l12">&nbsp;</div>
    <div class="col s12 m12 l12">
      <div class="card-panel">
        <!-- <h1 class = "tournament-bracket">Tournament Bracketing</h1> -->
          <!-- table goes here -->
          <!-- <main id="tournament">
          	<ul class="round round-1">
              <div  ng-repeat="ematches in elimination_matches">
                <li class="spacer">&nbsp;</li>
            		<li class="game game-top winner">{{(ematches.player1).team_name}}<span>{{(ematches.player1).score}}</span></li>
            		<li class="game game-spacer">&nbsp;</li>
            		<li class="game game-bottom ">{{(ematches.player2).team_name}}<span>{{(ematches.player2).score}}</span></li>
                <li class="spacer">&nbsp;</li>
              </div>
          	</ul>
          	<ul class="round round-2">
              <div  ng-repeat="smatches in semis_matches">
                <li class="spacer">&nbsp;</li>
                <li class="spacer">&nbsp;</li>
            		<li class="game game-top winner">{{(smatches.player1).team_name}}<span>{{(smatches.player1).score}}</span></li>
            		<li class="game game-spacer">&nbsp;</li>
                <li class="game game-spacer">&nbsp;</li>
                <li class="game game-spacer">&nbsp;</li>
            		<li class="game game-bottom ">{{(smatches.player2).team_name}}<span>{{(smatches.player2).score}}</span></li>
            		<li class="spacer">&nbsp;</li>
                <li class="spacer">&nbsp;</li>
              </div>
          	</ul>
          	<ul class="round round-3">
              <div ng-repeat="fmatches in finals_matches">
            		<li class="spacer">&nbsp;</li>
            		<li class="game game-top winner">{{(fmatches.player1).team_name}}<span>{{(fmatches.player1).score}}</span></li>
            		<li class="game game-spacer">&nbsp;</li>
                <li class="game game-spacer">&nbsp;</li>
                <li class="game game-spacer">&nbsp;</li>
                <li class="game game-spacer">&nbsp;</li>
                <li class="game game-spacer">&nbsp;</li>
            		<li class="game game-bottom ">{{(fmatches.player2).team_name}}<span>{{(fmatches.player2).score}}</span></li>
            		<li class="spacer">&nbsp;</li>
              </div>
          	</ul>
          </main> -->
        <h1 class = "sport-summ">Sport Results Summary</h1>
        <table class="ui four column selectable celled table">
          <thead>
            <tr>
              <th><a href="javascript:void(0)" ng-click="sortType= 'name'; sortReverse = !sortReverse">
                Team
                <i ng-show="sortType != 'name'" class="sort icon"></i>
                <i ng-show="sortType == 'name' && !sortReverse" class="sort alphabet ascending icon"></i>
                <i ng-show="sortType == 'name' && sortReverse" class="sort alphabet descending icon"></i>
              </a></th>
              <th><a href="javascript:void(0)" ng-click="sortType= 'win'; sortReverse = !sortReverse">
                Win
                <i ng-show="sortType != 'win'" class="sort icon"></i>
                <i ng-show="sortType == 'win' && !sortReverse" class="sort numeric ascending icon"></i>
                <i ng-show="sortType == 'win' && sortReverse" class="sort numeric descending icon"></i>
              </a></th>
              <th><a href="javascript:void(0)" ng-click="sortType= 'loss'; sortReverse = !sortReverse">
                Loss
                <i ng-show="sortType != 'loss'" class="sort icon"></i>
                <i ng-show="sortType == 'loss' && !sortReverse" class="sort numeric ascending icon"></i>
                <i ng-show="sortType == 'loss' && sortReverse" class="sort numeric descending icon"></i>
              </a></th>
              <th><a href="javascript:void(0)" ng-click="sortType= 'draw'; sortReverse = !sortReverse">
                Draw
                <i ng-show="sortType != 'draw'" class="sort icon"></i>
                <i ng-show="sortType == 'draw' && !sortReverse" class="sort numeric ascending icon"></i>
                <i ng-show="sortType == 'draw' && sortReverse" class="sort numeric descending icon"></i>
              </a></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="team in teams | orderBy:sortType:sortReverse" ng-click="view_team(team.id)">
              <td>{{team.name}}</td>
              <td>{{team.win}}</td>
              <td>{{team.loss}}</td>
              <td>{{team.draw}}</td>
            </tr>
          </tbody>
        </table>         
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  $(document).ready(function(){
     $('.dropdown-button').dropdown({
        inDuration: 300,
        outDuration: 225,
        constrain_width: false, // Does not change width of dropdown to that of the activator
        hover: false, // Activate on hover
        gutter: 0, // Spacing from edge
        belowOrigin: true, // Displays dropdown below the button
        alignment: 'left', // Displays dropdown with edge aligned to the left of button
        stopPropagation: false // Stops event propagation
      }
    );
    $('.modal').modal({
      dismissible: true,
      opacity: 0.5,
      in_duration: 300,
      out_duration: 200,
      starting_top: '4%',
      ending_top: '10%',
    });
  });
</script>
