<!-- <div ng-controller="login-register-controller" ng-init="restrict()"></div> -->

<div ng-controller="sponsor-controller" ng-init="ownership_init(); init_sponsor()">

  <a class="add-btn" ng-show="profile.is_admin == 1 || is_owner" ng-click="reset_add_modal()" id="add-sponsor" href="javascript:void(0)"><i class="fa fa-plus fa-3x"></i></a>
  
  <div class="row contents">
    <h3 class="content-header">SPONSORS</h3>
    <div class="ui two top attached buttons" id="butt-container">
      <button class="ui left labeled icon blue button" id="vsp-button" ng-click="change_view('#!/sports/')">
        <i class="left arrow icon"></i>
        View Sports
      </button>
      <button class="ui right labeled icon green button" id="vsp-button" ng-click="change_view('#!/participant/')">
        <i class="right arrow icon"></i>
        View Participant
      </button>
    </div>
    <h2 class="center-align" ng-if="sponsors.length == 0">No Sponsor Available</h2>
    <div class="ui three stackable special cards" id="spons" >
        <div class="card" ng-repeat="spon in sponsors" ng-init="$last && (profile.is_admin || is_owner) ? ngRepeatFinished() : null">
          <div class='blurring dimmable image'>
            <div class="ui dimmer">
              <div class="content">
                <div class="center">
                  <a href="javascript:void(0)" class="ui inverted button edit-sponsor" ng-click="init_edit_modal(spon.sponsor_id)">Edit</a>
                  <a href="javascript:void(0)" class="ui inverted red button" ng-click="delete_sponsor(spon.sponsor_id)">Remove</a>
                </div>
              </div>
            </div>
            <img src="../img/sponsor.jpg" ng-if="isEven(spon.sponsor_id)">
            <img src="../img/sponsor1.jpg" ng-hide="isEven(spon.sponsor_id)">
          </div>
          <div class="content">
            <span class="header">{{spon.sponsor_name}} {{spon.sponsor_id % 2 == 0}}</span>
            <div class="meta">
              <span>{{spon.sponsor_type}}</span>
              <br/>
              <p>{{spon.sponsor_desc}}</p>
            </div>
          </div>
          <div class="extra content">
            <a href="javascript:void(0)" ng-click="visit_site(spon.web_address)">Visit Website</a>
          </div>
        </div>  
    </div>
  </div>  

  <div class="ui modal" id="add-sponsor-modal">
    <i class="close icon"></i>
    <div class="header add-sponsor-header">Add Sponsor</div>
    <div class="content">
      <form class="ui big form">
        <div class="two fields">
          <div class="field">
            <label>Sponsor Name</label>
            <input placeholder="Sponsor Name" type="text" ng-model="sponsor.sponsor_name">
          </div>
          <div class="field">
            <label>Sponsor Type</label>
            <select class="ui dropdown" id="sponsor_type">
              <option value="" disabled selected>Type</option>
              <option value="minor">minor</option>
              <option value="major">major</option>
              <option value="major">official partner</option>
            </select>
          </div>
        </div>
        <div class="field">
          <label>Sponsor Description</label>
          <textarea rows="2" ng-model="sponsor.sponsor_desc"></textarea>
        </div>
        <div class="field">
          <label>Sponsor Website</label>
          <input placeholder="Sponsor Website" type="text" ng-model="sponsor.web_address">
        </div>
      </form>
    </div>
    <div class="actions">
      <div class="ui button modal-close">Cancel</div>
      <div class="ui button modal-close green" ng-click="add_sponsor()">Submit</div>
    </div>
  </div>

  <div class="ui modal" id="edit-sponsor-modal">
    <i class="close icon"></i>
    <div class="header edit-sponsor-header">Edit Sponsor</div>
    <div class="content">
      <form class="ui big form">
        <div class="two fields">
          <div class="field">
            <label>Sponsor Name</label>
            <input placeholder="Sponsor Name" type="text" id="sponsorEdit_name" ng-model="sponsorEdit.sponsor_name">
          </div>
          <div class="field">
            <label>Sponsor Type</label>
            <select class="ui dropdown" id="sponsorEdit_type" ng-model="sponsorEdit.sponsor_type">
              <option value="" disabled selected>Type</option>
              <option value="minor">minor</option>
              <option value="major">major</option>
              <option value="major">official partner</option>
            </select>
          </div>
        </div>
        <div class="field">
          <label>Sponsor Description</label>
          <textarea rows="2" id="sponsorEdit_desc" ng-model="sponsorEdit.sponsor_desc"></textarea>
        </div>
        <div class="field">
          <label>Sponsor Website</label>
          <input placeholder="Sponsor Website" id="sponsorEdit_web" type="text" ng-model="sponsorEdit.web_address">
        </div>
      </form>
    </div>
    <div class="actions">
      <div class="ui button modal-close">Cancel</div>
      <div class="ui button modal-close green" ng-click="update_sponsor()">Submit</div>
    </div>
  </div>
</div>

<script type="text/javascript">
$(document).ready(function(){
  $("#add-sponsor").click(function() {
    $("#add-sponsor-modal").modal("show");
  });
  $('.modal-close').click(function() {
    $('.ui.modal').modal('hide');
  });
});
</script>