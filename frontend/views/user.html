<div ng-controller="user-controller">
  <div class="row contents">
    <h3 class="header">User</h3>
    <h4 class="header">Pending User</h4>
    <div class="row contents">
      <div carousel ng-init="get_accounts()">
        <div class="col s12 m3 carousel-item" ng-class="{active:!$index}" ng-repeat="(index, account) in accounts | filter:{ is_approved: 0 } ">
          <div class="card small z-depth-3">
            <div class="card-image">
              <img src="img/sample-1.jpg">
              <span class="card-title">{{account.firstname}} {{account.middlename}} {{account.lastname}}</span>
              <a href="javascript:void(0)" class="dropdown-button option" data-activates="user-menu-app{{index}}"><i class="fa fa-sort-down right fa-2x"></i></a>
              <ul id="user-menu-app{{index}}" class='dropdown-content'>
                <li><a href="javascript:void(0)">edit</a></li>
                <li class="divider"></li>
                <li><a href="javascript:void(0)">remove</a></li>
             </ul>
            </div>
            <div class="card-content c-contents">
              <p class="stud-num">{{account.college}} | {{account.course}}</p>
            </div>
            <div class="card-action">
              <a class="btn waves-light green" href="javascript:void(0)" ng-click="approve_user(account.account_id)">Approve</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <h4 class="header">Regular Users</h4>
    <div class="row contents">
      <div carousel ng-init="get_accounts()">
        <div class="col s12 m3 carousel-item" ng-class="{active:!$index}" ng-repeat="(index, account) in accounts | filter: { is_approved: 1 } ">
          <div class="card small z-depth-3">
            <div class="card-image">
              <img src="img/sample-1.jpg">
              <span class="card-title">{{account.firstname}} {{account.middlename}} {{account.lastname}}</span>
              <a href="javascript:void(0)" class="dropdown-button option" data-activates="user-menuview{{index}}"><i class="fa fa-sort-down right fa-2x"></i></a>
              <ul id="user-menuview{{index}}" class='dropdown-content'>
                <li><a href="javascript:void(0)">edit</a></li>
                <li class="divider"></li>
                <li><a href="javascript:void(0)">remove</a></li>
             </ul>
            </div>
            <div class="card-content c-contents">
              <p class="stud-num">{{account.college}} | {{account.course}}</p>
            </div>
            <div class="card-action">
              <a class="btn waves-light blue " href="javascript:void(0)">View</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  $(document).ready(function(){
     $('.dropdown-button').dropdown({
        inDuration: 300,
        outDuration: 225,
        constrain_width: false, // Does not change width of dropdown to that of the activator
        hover: false, // Activate on hover
        gutter: 0, // Spacing from edge
        belowOrigin: true, // Displays dropdown below the button
        alignment: 'left', // Displays dropdown with edge aligned to the left of button
        stopPropagation: false // Stops event propagation
      }
    );
    $('.carousel').carousel({
        full_width: true
    });
  });
</script>
