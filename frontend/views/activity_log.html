<div ng-controller="login-register-controller" ng-init="restrict()"></div>
<div class="main-container">
  <!-- Search -->
  <div class="row contents">
    <h3 class="content-header">ACTIVITY LOG</h3>
    <div class="ui search">
      <div class="ui icon input">
        <input class="prompt" placeholder="Search Logs" type="text" ng-model="search.text">
        <i class="search icon"></i>
      </div>
      <div class="results"></div>
    </div>

    <div class="ui raised very fluid padded container segment" id="table-container">
      <h3>{{profile.firstname}} {{profile.middlename}} {{profile.lastname}}</h3>
      <table class="ui striped celled table" ng-if="profile.is_admin == 1">
        <thead>
          <tr>
            <th><h3>Time</h3></th>
            <th><h3>Activity</h3></th>
          </tr>
        </thead>
        <tbody ng-init = "get_all_logs()">
          <tr ng-repeat = "data in logs | orderBy:'-log_date' | filter: search.text">
            <td>{{data.log_date | date: 'medium'}}</td>
            <td>{{data.log_description}}</td>
          </tr>
        </tbody>
      </table>
      <table class="ui celled table" ng-if="profile.is_admin == 0">
        <thead>
          <tr>
            <th><h3>Time</h3></th>
            <th><h3>Activity</h3></th>
          </tr>
        </thead>
        <tbody ng-init = "get_log()">
          <tr ng-repeat = "data in logs | orderBy:'-log_date' | filter: search.text">
            <td>{{data.log_date | date: 'medium'}}</td>
            <td>{{data.log_description}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<script type="text/javascript">
  $(document).ready(function() {
    $('.ui.dropdown').dropdown();
  })
</script>