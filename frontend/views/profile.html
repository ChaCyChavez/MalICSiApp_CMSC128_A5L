<div ng-controller="login-register-controller" ng-init="restrict()"></div>
<div ng-controller="profile-controller" ng-init="init_profile()">
 	
	<div class="row contents">
		<div class="ui raised very padded text segment" id="personal-info">
			<div class="profile-pic">
				<img src="../img/user.png">
				<div>
					<a href="javascript:void(0)" class="ui inverted blue button edit-profile" ng-if="profile.is_admin==1 || userprofile.account_id==profile.account_id" ng-click="edit_profile()">Edit</a>
					<a href="javascript:void(0)" class="ui inverted red button remove-profile" ng-if="profile.is_admin==1 || userprofile.account_id==profile.account_id" ng-click="remove_profile()">Deactivate</a>
				</div>
			</div>
			<div id="info">
				<h1 id="name" class="ui header">{{ userprofile.firstname + " " + userprofile.middlename + " " +userprofile.lastname}}</h1>	
				<div class="info-field">College: {{ userprofile.college }}</div>
				<div class="info-field">Course: {{ userprofile.course }}</div>
				<div class="info-field">Birthday: {{ userprofile.birthday | date: 'longDate'}}</div>
				<div class="info-field">Email: {{ userprofile.email }}</div>
				<div class="info-field" ng-show="userprofile.is_player">Jersey Number: #{{ userprofile.player_jersey_num }}</div>
				<div class="info-field" ng-show="userprofile.is_player">Player Role: {{ userprofile.player_role }}</div>
				<div class="info-field" ng-show="userprofile.is_game_head || userprofile.is_admin">Position: {{ userprofile.position }}</div>
			</div>
		</div>

		<div class="ui three column doubling stackable grid container" ng-show="userprofile.is_player">
			<div class="column">
				<div class="ui raised very padded text container segment" id="events_played">
					<h1 class="ui header">ONGOING EVENTS</h1>
					<div class="ui fluid styled accordion">
						<div ng-repeat="user_ongoing_event in user_ongoing_events">
							<h5 class="title">{{ user_ongoing_event.game_name }}</h5>
							<div class="content">
								<h5>Start: {{ user_ongoing_event.game_starting_time_date | date: 'fullDate'}}</h5>
								<h5>End: {{ user_ongoing_event.game_ending_time_date | date: 'fullDate'}}</h5>
								<a href="#!/sports/{{user_ongoing_event.game_id}}"><button class="ui blue button">View Game</button></a>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="column">
				<div class="ui raised very padded text container segment" id="upcoming_events">
					<h1 class="ui header">UPCOMING EVENTS</h1>
					<div class="ui fluid styled accordion">
						<div ng-repeat="user_upcoming_event in user_upcoming_events">
							<h5 class="title">{{ user_upcoming_event.game_name }}</h5>
							<div class="content">
								<h5>Start: {{ user_upcoming_event.game_starting_time_date | date: 'fullDate'}}</h5>
								<h5>End: {{ user_upcoming_event.game_ending_time_date | date: 'fullDate'}}</h5>
								<a href="#!/sports/{{user_upcoming_event.game_id}}"><button class="ui blue button">View Game</button></a>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="column">
				<div class="ui raised very padded text container segment" id="events_played">
					<h1 class="ui header">PLAYED EVENTS</h1>
					<div class="ui fluid styled accordion">
						<div ng-repeat="user_past_event in user_past_events">
							<h5 class="title">{{ user_past_event.game_name }}</h5>
							<div class="content">
								<h5>Start: {{ user_past_event.game_starting_time_date | date: 'fullDate'}}</h5>
								<h5>End: {{ user_past_event.game_ending_time_date | date: 'fullDate'}}</h5>
								<a href="#!/sports/{{user_past_event.game_id}}"><button class="ui blue button">View Game</button></a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

</div>

<script type="text/javascript">
	$('.ui.accordion').accordion();
</script>